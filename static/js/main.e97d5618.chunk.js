(this["webpackJsonpapod-gallery"]=this["webpackJsonpapod-gallery"]||[]).push([[0],{137:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(23),c=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(20),i=a(18),o=a(46),u=a(8),m=a.n(u),h=a(21),g=a(60),d=a(61),p=a(19),f=a(68),v=a(66),b=a(28),w=a(62),y=a.n(w),k=(a(78),function(e){return r.a.createElement("div",{className:"pa2 tc"},r.a.createElement(y.a,{className:"tc pa2 border-shades light-color dark-shades bodoni f3",calendarClassName:"bodoni border-shades",dateFormat:"dd/MM/yyyy",onChange:e.searchChange,selected:e.date,minDate:new Date(2015,0,1),maxDate:new Date,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"}))}),E=function(e){var t=e.image,a=t.copyright,n=t.explanation,s=t.media_type,c=t.title,l=t.url;return null===s||void 0===s?r.a.createElement("div",null,r.a.createElement("h1",{className:"tc f3 light-color bodoni"},"No data available")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"tc f3 light-color bodoni"},c),r.a.createElement("div",{className:"cf ph2-ns"},r.a.createElement("div",{className:"fl w-100 w-50-ns pa2"},"image"===s?r.a.createElement("img",{alt:"No data available",src:l,width:"100%",height:"auto"}):r.a.createElement("iframe",{title:"APOD video",src:l,width:"100%",height:"350px"})),r.a.createElement("div",{className:"fl w-100 w-50-ns pa2 light-accent"},r.a.createElement("p",{className:"bodoni"},n),null!==a&&void 0!==a?r.a.createElement("p",{className:"bodoni"},"Copyright ",r.a.createElement("b",null,a)):"")))},x=(a(137),function(e){var t="image"===e.media_type?e.image:"old-tv.jpg";return r.a.createElement("div",{id:e.text,className:"fl w-50 w-third-m w-25-ns container pointer",onClick:e.selectCard},r.a.createElement("div",{className:"aspect-ratio aspect-ratio--16x9"},r.a.createElement("div",{className:"bg-center cover aspect-ratio--object",style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement("h1",{className:"cover-text bodoni f3"},r.a.createElement("span",null,e.text)))))}),O=a(65),M=a.n(O),N=function(e){var t=Object(b.usePromiseTracker)({delay:500}).promiseInProgress;return r.a.createElement("div",{className:"tc"},t?r.a.createElement(M.a,{color:"#AEADA7",size:15,margin:2}):r.a.createElement("div",{style:{height:22.2}}))},D=function(e){var t,a=[],n=Object(i.a)(e.images.keys());try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push(r.a.createElement(x,{key:s,text:s,media_type:e.images.get(s).media_type,image:e.images.get(s).url,selectCard:e.selectCard}))}}catch(c){n.e(c)}finally{n.f()}return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",{className:"cf w-100 pv4-l ph3"},a))},j=function(e){return r.a.createElement("div",null,r.a.createElement("button",{className:"f6 link dim br-pill ba bw2 ph3 pv2 dib mt2 mb2 dark-shades light-color border-shades",onClick:e.onClick},e.text))},C=function(e){return r.a.createElement("header",{className:"dark-accent light-shades w-100 ph3 pv3 pv3-ns ph3-m ph5-l"},r.a.createElement("nav",{className:"f6 fw6 ttu tracked"},r.a.createElement("a",{className:"link dim white dib mr3",href:"#",title:"Home"},"Home"),r.a.createElement("a",{className:"link dim white dib mr3",href:"#",title:"About"},"About"),r.a.createElement("a",{className:"link dim white dib",href:"#",title:"Contact"},"Contact")))},I=function(e){return r.a.createElement("div",null,r.a.createElement("footer",{className:"dark-accent pv3 pv3-l ph3 tr"},r.a.createElement("p",{className:"f6 light-shades"},"nydia.a.valencia@gmail.com")))},F=a(67),S=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),s=a[0],c=a[1];return window.addEventListener("scroll",(function(){!s&&window.pageYOffset>400?c(!0):s&&window.pageYOffset<=400&&c(!1)})),r.a.createElement(F.a,{className:"scrollTop light-color ",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{height:40,display:s?"flex":"none"}})},Y=["January","February","March","April","May","June","July","Agust","September","Octuber","November","December"],A=new Date,B=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={level:0,year:null,month:null,day:null,currentDate:new Date,image:{},images:new Map},n.searchChange=n.searchChange.bind(Object(p.a)(n)),n.selectCard=n.selectCard.bind(Object(p.a)(n)),n.comeBack=n.comeBack.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark((function e(){var t,a,n,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Map,n=2015;case 2:if(!(n<=this.state.currentDate.getFullYear())){e.next=15;break}return r=new Map,e.t0=r,e.next=7,this.getImage(new Date(n,0,1));case 7:e.t1=e.sent,e.t0.set.call(e.t0,1,e.t1),(s=new Map).set(0,r),t.set(n,s);case 12:n++,e.next=2;break;case 15:return e.next=17,this.setCurrentImage(t,this.state.currentDate);case 17:a=e.sent,this.setState({images:t,image:a});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchChange",value:function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,n=new Map(this.state.images),e.next=4,this.setCurrentImage(n,a);case 4:r=e.sent,this.setState({images:n,currentDate:a,image:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectCard",value:function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n,r,s,c,l,i,u,h,g,d,p,f,v,b,w;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.currentTarget.id,n=new Map(this.state.images),e.t0=this.state.level,e.next=2===e.t0?5:1===e.t0?10:(e.t0,31);break;case 5:return c=parseInt(a),l=new Date(this.state.year,this.state.month,c),i=n.get(this.state.year).get(this.state.month).get(c),this.setState({day:c,currentDate:l,image:i}),e.abrupt("break",52);case 10:u=Y.indexOf(a),r=new Map(this.state.images.get(this.state.year)),s=new Map(this.state.images.get(this.state.year).get(u)),h=this.state.year===A.getFullYear()&&u===A.getMonth()?A.getDate():new Date(this.state.year,u+1,0).getDate(),g=1;case 15:if(!(g<=h)){e.next=26;break}if(s.has(g)){e.next=23;break}return e.t1=s,e.t2=g,e.next=21,this.getImage(new Date(this.state.year,u,g));case 21:e.t3=e.sent,e.t1.set.call(e.t1,e.t2,e.t3);case 23:g++,e.next=15;break;case 26:return d=Object(o.a)(s.entries()).sort((function(e,t){return e[0]-t[0]})),r.set(u,new Map(d)),n.set(this.state.year,r),this.setState({images:n,level:2,month:u,day:null}),e.abrupt("break",52);case 31:p=parseInt(a),r=new Map(this.state.images.get(p)),f=p===A.getFullYear()?A.getMonth()+1:Y.length,v=0;case 35:if(!(v<f)){e.next=48;break}if(b=void 0,(b=r.has(v)?r.get(v):new Map).has(1)){e.next=45;break}return e.t4=b,e.next=42,this.getImage(new Date(p,v,1));case 42:e.t5=e.sent,e.t4.set.call(e.t4,1,e.t5),r.set(v,b);case 45:v++,e.next=35;break;case 48:return w=Object(o.a)(r.entries()).sort((function(e,t){return e[0]-t[0]})),n.set(p,new Map(w)),this.setState({images:n,level:1,year:p,month:null,day:null}),e.abrupt("break",52);case 52:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"comeBack",value:function(){switch(this.state.level){case 2:this.setState({level:1,month:null,day:null});break;case 1:this.setState({level:0,year:null,month:null,day:null});break;case 0:default:this.setState({level:0,year:null,month:null,day:null})}}},{key:"filterImages",value:function(){switch(this.state.level){case 2:var e,t=new Map,a=Object(i.a)(this.state.images.get(this.state.year).get(this.state.month).entries());try{for(a.s();!(e=a.n()).done;){var n=Object(l.a)(e.value,2),r=n[0],s=n[1];t.set(r,s)}}catch(y){a.e(y)}finally{a.f()}return t;case 1:var c,o=new Map,u=Object(i.a)(this.state.images.get(this.state.year).entries());try{for(u.s();!(c=u.n()).done;){var m=Object(l.a)(c.value,2),h=m[0],g=m[1];o.set(Y[h],g.get(1))}}catch(y){u.e(y)}finally{u.f()}return o;case 0:default:var d,p=new Map,f=Object(i.a)(this.state.images.entries());try{for(f.s();!(d=f.n()).done;){var v=Object(l.a)(d.value,2),b=v[0],w=v[1];p.set(b,w.get(0).get(1))}}catch(y){f.e(y)}finally{f.f()}return p}}},{key:"setCurrentImage",value:function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.get(a.getFullYear()).has(a.getMonth())||t.get(a.getFullYear()).set(a.getMonth(),new Map),t.get(a.getFullYear()).get(a.getMonth()).has(a.getDate())){e.next=8;break}return e.next=4,this.getImage(a);case 4:n=e.sent,t.get(a.getFullYear()).get(a.getMonth()).set(a.getDate(),n),e.next=9;break;case 8:return e.abrupt("return",t.get(a.getFullYear()).get(a.getMonth()).get(a.getDate()));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.trackPromise)(fetch("https://api.nasa.gov/planetary/apod?api_key=XlA7l9ugdepLm3YaaiOoxYQKiDz4GKyFQEG27pBr&date="+t.toISOString().slice(0,10)));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.image,t=this.state.currentDate,a=this.filterImages();return r.a.createElement("div",{className:"dark-shades"},r.a.createElement(C,null),r.a.createElement("h1",{className:"f1 tc bodoni light-shades"},"APOD Gallery"),r.a.createElement(k,{searchChange:this.searchChange,date:t}),r.a.createElement(E,{image:e}),r.a.createElement(D,{images:a,selectCard:this.selectCard}),r.a.createElement(S,null),0!==this.state.level?r.a.createElement(j,{text:"Regresar",onClick:this.comeBack}):"",r.a.createElement(I,null))}}]),a}(r.a.Component);a(142),a(143);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a(144)}},[[69,1,2]]]);
//# sourceMappingURL=main.e97d5618.chunk.js.map